<!DOCTYPE HTML>

<html> 

	<head>
		<title>
                
        QUE SEJA
                
        </title>
                
		<script src="js/introducao.js"></script>
		<script src="js/creditos.js"></script>
		<script src="js/nivel1.js"></script>
		<script src="js/nivel2.js"></script>
		<script src="js/nivel3.js"></script>
		<script src="js/nivel4.js"></script>
		<script src="js/botao_Pong.js"></script>
		<script src="js/botao_Arkanoid.js"></script>
		<script src="js/botao_Invaders.js"></script>
		<script src="js/botao_Shooter.js"></script>
		<script src="js/botao_voltar.js"></script>
		<script src="js/botao_creditos.js"></script>
		
		        
   </head>
        
   <body>
        
    5_em_1 
        
   		<br/>
        
        	<canvas width="1336" height="768" id="main" style="border:8px solid #000000;"></canvas>
        	
        
   </body>
        
   	<script> 
        
   	//TELA//
   	var canvas = document.getElementById("main");
   	var screen = canvas.getContext("2d");
   	
        
   	//LARGURA E ALTURA DA TELA//
   	var largura_tela_w = 1336
   	var altura_tela_h = 768
        
    //VARIAVEIS DO PAUSE//    
	var paused = false;
	
	//VARIAVEL DA INTRODUCAO//
	var introducao = new Cena_Intro();
	
	//VARIAVEL DOS CREDITOS//
	var creditos = new Cena_Creditos();
	
	//VARIAVEL DO JOGO//
	var nivel1 = new Cena_Jogo();
	var nivel2 = new Cena_Jogo1();
	var nivel3 = new Cena_Jogo2();
	var nivel4 = new Cena_Jogo3();
	
	//VARIAVEL PARA TROCAS DE CENA//
	var CENAS = { INTRO: 0, CREDITOS: 1, JOGO: 2, JOGO1: 3, JOGO2: 4, JOGO3: 5, JOGO4: 6, JOGO5: 7 } //Fluxo das telas//
	
	//VARIAVEL DE CENA ATUAL//
	var Cena_atual = CENAS.INTRO; //Para mudar aonde o jogo comeca, ou seja qual cena, mude aqui//
	
	//VARIAVEL DO JOGO ATUAL//
	//var Jogo_atual = CENAS.JOGO;


	load();

	function load()
	{	
		console.log("load");

		if((true))//to do...
		{
			console.log("carreguei");

		loop();
		}
		else
		{
		console.log("nao carreguei");

		setTimeout(load, 30 );
		}
	}

	
	function loop()
	{
	

		//O LOOP CHAMA UPDATE E DRAW//

		update();

		draw();

		setTimeout(loop, 30 );

	}


	function update()
	{	
		switch(Cena_atual) //TROCAS DE CENAS//
		{
			case CENAS.INTRO:
			{
				introducao.update();	
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.update();
			}
			break;
			case CENAS.JOGO:
			{
				nivel1.update();
			}
			break;
			case CENAS.JOGO1:
			{
				nivel2.update();
			}
			break;
			case CENAS.JOGO2:
			{
				nivel3.update();
			}
			break;
			case CENAS.JOGO3:
			{
				nivel4.update();
			}
			break;
		}
		
		/*switch(Jogo_atual)
		{
			case CENAS.JOGO:
			{
				introducao.update();	
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.update();
			}
			break;
			case CENAS.JOGO:
			{
				nivel1.update();
			}
			break;
			case CENAS.JOGO1:
			{
				nivel2.update();
			}
			break;
			case CENAS.JOGO2:
			{
				nivel3.update();
			}
			break;
			case CENAS.JOGO3:
			{
				nivel4.update();
			}
			break;
		}*/
	}


	function draw()
	{
		clear();

		switch(Cena_atual)
		{
			case CENAS.INTRO:
			{
				introducao.draw();
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.draw();
			}
			break;
			case CENAS.JOGO:
			{
				nivel1.draw();
			}
			break;
			case CENAS.JOGO1:
			{
				nivel2.draw();
			}
			break;
			case CENAS.JOGO2:
			{
				nivel3.draw();
			}
			break;
			case CENAS.JOGO3:
			{
				nivel4.draw();
			}
			break;
		}

	}


	function clear()
	{
		screen.clearRect(0,0,600,800);
	}

	window.addEventListener('keydown', key_down, true);
	window.addEventListener('keyup', key_up, true);
	window.addEventListener('mousemove', mouse_move, true);
	window.addEventListener('mouseup', mouse_up, true);
	window.addEventListener('mousedown', mouse_down, true);


	function key_down(key)
	{
		switch(Cena_atual)
		{
			case CENAS.INTRO:
			{
				introducao.key_down(key);
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.key_down(key);
			}
			break;
			case CENAS.JOGO:
			{
				nivel1.key_down(key);
			}
			break;
			case CENAS.JOGO1:
			{
				nivel2.key_down(key);
			}
			break;
			case CENAS.JOGO2:
			{
				nivel3.key_down(key);
			}
			break;
			case CENAS.JOGO3:
			{
				nivel4.key_down(key);
			}
			break;
		}
	}

	function key_up(key)
	{
		switch(Cena_atual)
		{
			case CENAS.INTRO:
			{
				introducao.key_up(key);
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.key_up(key);
			}
			break;
			case CENAS.JOGO:
			{
				nivel1.key_up(key);
			}
			break;
			case CENAS.JOGO1:
			{
				nivel2.key_up(key);
			}
			break;
			case CENAS.JOGO2:
			{
				nivel3.key_up(key);
			}
			break;
			case CENAS.JOGO3:
			{
				nivel4.key_up(key);
			}
			break;
		}
	}
	function mouse_move(mouse)
	{

	}

	function mouse_up(mouse)
	{

	}


	function mouse_down(mouse)
	{
		switch(Cena_atual)
		{
			case CENAS.INTRO:
			{
				introducao.mouse_down(mouse);
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.mouse_down(mouse);
			}
			break;
			case CENAS.JOGO:
			{
				nivel1.mouse_down(mouse);
			}
			break;
			case CENAS.JOGO1:
			{
				nivel2.mouse_down(mouse);
			}
			break;
			case CENAS.JOGO2:
			{
				nivel3.mouse_down(mouse);
			}
			break;
			case CENAS.JOGO3:
			{
				nivel4.mouse_down(mouse);
			}
			break;
		}
	}


	function Collide(x1, y1, w1, h1, x2, y2, w2, h2)
	{	
		if((x1+w1<x2)//se rect1 esquerda rect2
		||(x1>x2+w2)//se rect1 direita rect2
		||(y1+h1<y2)//se rect1 acima rect2
		||(y1>y2+h2))//se rect1 abaixo rect2
		{
			return false;//nao colidiu
		}
		else
		{
			return true;//colidiu
		}
	}


</script>

</body>

</html>