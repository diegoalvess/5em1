<!DOCTYPE HTML>

<html> 

	<head>
		<title>
                
        5 em 1
                
        </title>
                
		<script src="js/introducao.js"></script>
		<script src="js/creditos.js"></script>
		<script src="js/botao.js"></script>	
		        
   </head>
        
   <body>
   <canvas width="1024" height="768" id="main" style="border:8px solid #000000;"></canvas>
   </body>
        
   	<script> 
        
   	//TELA//
   	var canvas = document.getElementById("main");
   	var screen = canvas.getContext("2d");
   	
        
   	//LARGURA E ALTURA DA TELA//
   	var largura_tela_w = 1024
   	var altura_tela_h = 768
        
    //VARIAVEIS DO PAUSE//    
	var paused = false;
	
	//VARIAVEL DA INTRODUCAO//
	var introducao = new Cena_Intro();
	
	//VARIAVEL DOS CREDITOS//
	var creditos = new Cena_Creditos();
	
	//VARIAVEL DO JOGO//
	//...
		
	//VARIAVEL PARA TROCAS DE CENA//
	var CENAS = { INTRO: 0, CREDITOS: 1, PONG: 2, ARKANOID: 3, INVADERS: 4, SHOOTER: 5, QUINTOJOGO: 6 } //Fluxo das telas//
	
	//VARIAVEL DE CENA ATUAL//
	var cena_atual = CENAS.INTRO; //Para mudar aonde o jogo comeca, ou seja qual cena, mude aqui//
	
	//VARIAVEL DO JOGO ATUAL//
	//var jogo_atual = CENAS.JOGO;

	load();

	function load()
	{	
		console.log("load");

		if((true))//to do...
		{
			console.log("carreguei");

		loop();
		}
		else
		{
		console.log("nao carreguei");

		setTimeout(load, 30 );
		}
	}

	
	function loop()
	{
	

		//O LOOP CHAMA UPDATE E DRAW//

		update();

		draw();

		setTimeout(loop, 30 );

	}


	function update()
	{	
		switch(cena_atual) //TROCAS DE CENAS//
		{
			//pause...
			
			case CENAS.INTRO:
			{
				introducao.update();	
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.update();
			}
			break;
			/*case CENAS.PONG:
			{
				pong.update();
			}
			break;
			case CENAS.ARKANOID:
			{
				arkanoid.update();
			}
			break;
			case CENAS.INVADERS:
			{
				invaders.update();
			}
			break;
			case CENAS.SHOOTER:
			{
				shooter.update();
			}
			break;
			case CENAS.QUINTOJOGO:
			{
				quintojogo.update();
			}
			break;*/
		}
		
	}


	function draw()
	{
		clear();

		switch(cena_atual)
		{
			case CENAS.INTRO:
			{
				introducao.draw();	
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.draw();
			}
			break;
			/*case CENAS.PONG:
			{
				pong.draw();
			}
			break;
			case CENAS.ARKANOID:
			{
				arkanoid.draw();
			}
			break;
			case CENAS.INVADERS:
			{
				invaders.draw();
			}
			break;
			case CENAS.SHOOTER:
			{
				shooter.draw();
			}
			break;
			case CENAS.QUINTOJOGO:
			{
				quintojogo.draw();
			}
			break;*/

		}

	}


	function clear()
	{
		screen.clearRect(0,0,600,800);
	}

	window.addEventListener('keydown', key_down, true);
	window.addEventListener('keyup', key_up, true);
	window.addEventListener('mousemove', mouse_move, true);
	window.addEventListener('mouseup', mouse_up, true);
	window.addEventListener('mousedown', mouse_down, true);


	function key_down(key)
	{
		switch(cena_atual)
		{
			case CENAS.INTRO:
			{
				introducao.key_down(key);	
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.key_down(key);	
			}
			break;
			/*case CENAS.PONG:
			{
				pong.key_down(key);	
			}
			break;
			case CENAS.ARKANOID:
			{
				arkanoid.key_down(key);	
			}
			break;
			case CENAS.INVADERS:
			{
				invaders.key_down(key);	
			}
			break;
			case CENAS.SHOOTER:
			{
				shooter.key_down(key);	
			}
			break;
			case CENAS.QUINTOJOGO:
			{
				quintojogo.key_down(key);	
			}
			break;*/

		}
	}

	function key_up(key)
	{
		switch(cena_atual)
		{
			case CENAS.INTRO:
			{
				introducao.key_up(key);	
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.key_up(key);
			}
			break;
			/*case CENAS.PONG:
			{
				pong.key_up(key);
			}
			break;
			case CENAS.ARKANOID:
			{
				arkanoid.key_up(key);
			}
			break;
			case CENAS.INVADERS:
			{
				invaders.key_up(key);
			}
			break;
			case CENAS.SHOOTER:
			{
				shooter.key_up(key);
			}
			break;
			case CENAS.QUINTOJOGO:
			{
				quintojogo.key_up(key);
			}
			break;*/

		}
	}
	function mouse_move(mouse)
	{

	}

	function mouse_up(mouse)
	{

	}


	function mouse_down(mouse)
	{
		switch(cena_atual)
		{
			case CENAS.INTRO:
			{
				console.log("asad")
				introducao.mouse_down(mouse);	
			}
			break;
			case CENAS.CREDITOS:
			{
				creditos.mouse_down(mouse);
			}
			break;
			/*case CENAS.PONG:
			{
				pong.mouse_down(mouse);
			}
			break;
			case CENAS.ARKANOID:
			{
				arkanoid.mouse_down(mouse);
			}
			break;
			case CENAS.INVADERS:
			{
				invaders.mouse_down(mouse);
			}
			break;
			case CENAS.SHOOTER:
			{
				shooter.mouse_down(mouse);
			}
			break;
			case CENAS.QUINTOJOGO:
			{
				quintojogo.mouse_down(mouse);
			}
			break;*/

		}
	}


	function Collide(x1, y1, w1, h1, x2, y2, w2, h2)
	{	
		if((x1+w1<x2)//se rect1 esquerda rect2
		||(x1>x2+w2)//se rect1 direita rect2
		||(y1+h1<y2)//se rect1 acima rect2
		||(y1>y2+h2))//se rect1 abaixo rect2
		{
			return false;//nao colidiu
		}
		else
		{
			return true;//colidiu
		}
	}


</script>

</body>

</html>