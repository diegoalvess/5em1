<!DOCTYPE>

<html>

	<head>
	
		<title>
		
			Jornada Noid
			
		</title>
							
		<script src="js/paleta.js"></script>	
		<script src="js/ball.js"></script>
		<script src="js/bloco.js"></script>
		<script src="js/fase1.js"></script>
		<script src="js/menu.js"></script>
		<script src="js/background.js"></script>
		<!--<script src="js/creditos.js"></script> -->
		<script src="js/fim_ganhou.js"></script>
		<!--<script src="js/fim_perdeu.js"></script> --> 
		
	</head>
	
	<body>
	<center>
		
		Jornada Noid
		
		</br>
			<canvas width="900" height="700" id="main" style="border:0px" ></canvas>
		
						
		<script>
		
		var canvas = document.getElementById("main");
		var screen = canvas.getContext("2d");
		
		//Tamanho da tela
		var tela_tamanho_x = 900;
		var tela_tamanho_y = 700;
		
		var menu = new SceneMenu();
		
		var jogo = new SceneLevel1();
		
		var venceu = new SceneGanhou();
		
		//FLUXO DE TELAS
		var SCENE = { MENU: 0, JOGO:1, GANHOU:2}
		
		//PARA MUDAR A TELA QUE COMEÃ‡A PARA A PROXIMA
		var currentScene = SCENE.MENU;

		Load();
             
            
             function Load()
             {
             	Loop();
             }

		
		function Update()
		{
			console.log("dthdghd");
           switch(currentScene)
           {
           		//Menu
				case SCENE.MENU:
				{
					menu.update();
				}
				break;
				
				//level1
				case SCENE.JOGO:
				{
					jogo.update();
				}
				break;
				
				case SCENE.GANHOU:
				{
					venceu.update();
				}
				break;
           	
           	}//FIM DO SWITCH  	
				
		}//FIM DO UPDATE
		
			function Draw()
           {
           	
           		screen.clearRect(0,0, tela_tamanho_x , tela_tamanho_y)
             	switch(currentScene)
           		{
           		//Menu
				case SCENE.MENU:
				{
					menu.draw();
				}
				break;
				
				//level1
				case SCENE.JOGO:
				{
					jogo.draw();
				}
				break;
				
				case SCENE.GANHOU:
				{
					venceu.draw();
				}
				break;
           	
           	}//FIM DO SWITCH  
             	
         }//FIM DO DRAW
		
             function Loop()
             {
             	Update();
             	
             	Draw();
             	setTimeout(Loop, 30);
             }
		
	

		//FAZENDO O MOUSE FUNCIONAR.
		//window.addEventListener('mousemove', mouse_move, true);
		//window.addEventListener('mouseup', mouse_up, true);
		window.addEventListener('mousedown', mouse_down, true);
             
        function mouse_move(mouse)
		{
	
		}
		
		function mouse_up(mouse)
		{
	
		}

         function mouse_down(mouse)
		{
			switch(currentScene)
			{
				case SCENE.MENU:
				{
					menu.mouse_down(mouse);
				}
				break;
				
				case SCENE.JOGO:
				{
				}
				break;
				
			}//FIM DO SWITCH
		}   
		
		//FAZENDO A TECLA FUNCIONAR FUNCIONAR.
		window.addEventListener('keyup', key_up, true);
		window.addEventListener('keydown', key_down, true);
			function key_up (key)
			{
				switch(currentScene)
				{
					case SCENE.MENU:
			
			
			
					break;
				
					case SCENE.JOGO:
					{
						jogo.key_up(key);
					}
					break;
				
				}//FIM DO SWITCH
			}
			
			function key_down (key)
			{
				switch(currentScene)
				{
					case SCENE.MENU:
					
						
					
					break;
				
					case SCENE.JOGO:
					{
						jogo.key_down(key);
					}
					break;
				
				}//FIM DO SWITCH
			}
			
			
			
			
	</script>
	</center>
	</body>
	
</html>